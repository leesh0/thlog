{"version":3,"file":"pages/_user/thread/_read.js","sources":["webpack:///./pages/_user/thread/_read.vue?abd3","webpack:///./pages/_user/thread/_read.vue","webpack:///./pages/_user/thread/_read.vue?abfb","webpack:///./pages/_user/thread/_read.vue?7ef8","webpack:///./pages/_user/thread/_read.vue?891a","webpack:///./pages/_user/thread/_read.vue?4f75","webpack:///./pages/_user/thread/_read.vue?57c0"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-full\"},[_vm._ssrNode(\"<div class=\\\"/sm:border-b\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"px-5 -sm:px-2 sm:pb-5 max-w-screen-xl mx-auto\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"flex justify-between\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"flex flex-shrink-0 items-center gap-x-3\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<span\"+(_vm._ssrClass(\"open-badge\",_vm.thread.closed ? 'close' : 'open'))+\" data-v-241fade0>\"+_vm._ssrEscape(_vm._s(_vm.thread.closed ? 'Close' : 'Open'))+\"</span> \"),_vm._ssrNode(\"<div class=\\\"flex items-center text-gray-400 text-sm\\\" data-v-241fade0>\",\"</div>\",[_c('a-icon',{staticClass:\"mr-1\",attrs:{\"type\":\"message\"}}),_vm._ssrNode(_vm._ssrEscape(_vm._s(_vm.thread.comments_count)+\"\\n          \"))],2),_vm._ssrNode(\" <div class=\\\"text-gray-400\\\" data-v-241fade0>・</div> <div class=\\\"flex items-center text-gray-400 text-sm\\\" data-v-241fade0>\"+_vm._ssrEscape(\"\\n            \"+_vm._s(_vm.ago(_vm.thread.updated_at))+\" 갱신\\n          \")+\"</div>\")],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"text-xl flex items-center\\\" data-v-241fade0>\",\"</div>\",[_c('a-icon',{attrs:{\"type\":\"more\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div id=\\\"header\\\" class=\\\"text-2xl sm:text-3xl flex items-center mt-2\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(((!_vm.titleEdit)?(\"<h1 class=\\\"font-medium\\\" data-v-241fade0>\"+_vm._ssrEscape(_vm._s(_vm.thread.title))+\"</h1>\"):\"<!---->\")+\" \"),(!_vm.titleEdit && _vm.thread.is_owner)?_vm._ssrNode(\"<div class=\\\"flex font-medium items-end\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"\\n              flex\\n              items-center\\n              text-xl text-gray-400\\n              select-none\\n              cursor-pointer\\n            \\\" data-v-241fade0>\",\"</div>\",[_c('a-icon',{staticClass:\"ml-2\",attrs:{\"type\":\"edit\"}})],1)]):_vm._e(),_vm._ssrNode(\" \"),(_vm.titleEdit)?_vm._ssrNode(\"<div class=\\\"flex items-center w-full\\\" data-v-241fade0>\",\"</div>\",[_c('a-input',{staticClass:\"w-full\",attrs:{\"size\":\"large\"},model:{value:(_vm.threadTitle),callback:function ($$v) {_vm.threadTitle=$$v},expression:\"threadTitle\"}}),_vm._ssrNode(\" \"),_c('a-button',{staticClass:\"ml-2\",attrs:{\"size\":\"large\"},on:{\"click\":_vm.editTitle}},[_vm._v(\"변경\")]),_vm._ssrNode(\" \"),_c('a-button',{staticClass:\"ml-2\",attrs:{\"size\":\"large\",\"type\":\"danger\",\"ghost\":\"\"},on:{\"click\":function($event){_vm.titleEdit = false}}},[_vm._v(\"취소\")])],2):_vm._e()],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"mt-5 flex items-center flex-wrap\\\" data-v-241fade0>\",\"</div>\",[_c('tagsThreadTopics',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tagsEdit),expression:\"!tagsEdit\"}],staticClass:\"flex items-center pb-4\",attrs:{\"topicList\":_vm.thread.topics}}),_vm._ssrNode(\" \"),(!_vm.tagsEdit)?_vm._ssrNode(\"<div data-v-241fade0>\",\"</div>\",[(_vm.thread.is_owner)?_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){_vm.tagsEdit = true}}},[_c('div',{staticClass:\"flex items-center\"},[_c('a-icon',{staticClass:\"mr-2\",attrs:{\"type\":\"plus\"}}),_vm._v(\"토픽\\n                \"+_vm._s(_vm.thread.topics.length < 5 ? '추가하기' : '편집하기')+\"\\n              \")],1)]):_vm._e()],1):_vm._ssrNode(\"<div class=\\\"flex items-center gap-x-3 w-full flex-nowrap\\\" data-v-241fade0>\",\"</div>\",[_c('a-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"maxTagCount\":5,\"mode\":\"tags\",\"placeholder\":\"토픽을 추가해보세요\"},on:{\"change\":_vm.inputTopics},model:{value:(_vm.threadTopics),callback:function ($$v) {_vm.threadTopics=$$v},expression:\"threadTopics\"}},_vm._l((_vm.topicSuggests),function(ts){return _c('a-select-option',{key:ts},[_vm._v(\"\\n                \"+_vm._s(ts)+\"\\n              \")])}),1),_vm._ssrNode(\" \"),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":_vm.editTopics}},[_vm._v(\" 저장하기 \")]),_vm._ssrNode(\" \"),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":function($event){_vm.tagsEdit = false}}},[_vm._v(\" 취소 \")])],2)],2)])],2)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"sm:hidden\\\" data-v-241fade0>\",\"</div>\",[_c('a-divider',[_c('div',{staticClass:\"text-lg text-cyan-500\"},[_c('a-icon',{attrs:{\"type\":\"thunderbolt\",\"theme\":\"filled\"}})],1)])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"pb-10 sm:pt-5 sm:\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"max-w-screen-xl mx-auto sm:flex\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"sm:w-[calc(100%-384px)] -sm:px-0\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"w-full\\\" data-v-241fade0>\",\"</div>\",[_c('threadPostList',{attrs:{\"thread\":_vm.thread}}),_vm._ssrNode(\" \"),(_vm.thread.closed)?_vm._ssrNode(\"<div data-v-241fade0>\",\"</div>\",[_c('a-divider',[_c('div',{staticClass:\"flex items-center text-red-500\"},[_c('a-icon',{staticClass:\"mr-2\",attrs:{\"type\":\"check-circle\"}}),_vm._v(\" \"),_c('span',{staticClass:\"text-black\"},[_vm._v(\"Closed\")])],1)])],1):_vm._ssrNode((\"<div class=\\\"border-t-2 border-gray-100 -sm:hidden\\\" data-v-241fade0></div>\")),_vm._ssrNode(\" \"),(\n              (_vm.thread.public && _vm.$auth.loggedIn) ||\n              (!_vm.thread.public && _vm.thread.is_owner)\n            )?_c('threadCommentWriter',{staticClass:\"mt-5\",attrs:{\"id\":\"comment-writer\",\"thread\":_vm.thread},on:{\"close\":_vm.closeThread,\"addComment\":function (cm) {\n                _vm.thread.comments.push(cm)\n                _vm.thread.comments_count += 1\n              }}}):_c('div',{staticClass:\"text-center py-20\"},[_c('p',{staticClass:\"text-base\"},[_vm._v(\"로그인 후 코멘트를 작성하실 수 있습니다.\")]),_vm._v(\" \"),_c('a-button',{attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":function($event){return _vm.$nuxt.$emit('login')}}},[_vm._v(\"로그인\")])],1)],2)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"relative sm:w-96\\\" data-v-241fade0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"w-full px-2 sm:sticky sm:top-10 sm:px-5\\\" data-v-241fade0>\",\"</div>\",[_c('threadSide',{attrs:{\"thread\":_vm.thread},on:{\"close\":_vm.closeThread}})],1)])],2)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TimeAgo from 'javascript-time-ago'\nimport ko from 'javascript-time-ago/locale/ko.json'\nimport devicons from '~/assets/icons/devicon.json'\n\nif (TimeAgo.getDefaultLocale() != 'ko') {\n  TimeAgo.addDefaultLocale(ko)\n}\nconst timeAgo = new TimeAgo('ko-KR')\nexport default {\n  layout: 'empty',\n  async asyncData({ $axios, $auth, params }) {\n    let { data } = await $axios.get(`api/thread/${params.user}/${params.read}`)\n    return {\n      thread: data,\n      threadTopics: data.topics,\n      threadTitle: data.title,\n    }\n  },\n  data() {\n    return {\n      titleEdit: false,\n      tagsEdit: false,\n    }\n  },\n  computed: {\n    topicSuggests() {\n      let ts = []\n      for (let di of devicons) {\n        ts.push(di.name)\n      }\n      return ts\n    },\n  },\n  methods: {\n    closeThread(value) {\n      this.thread.closed = value\n    },\n    ago(date) {\n      const fromDate = Date.parse(date)\n      return timeAgo.format(fromDate)\n    },\n    inputTopics() {\n      if (this.threadTopics.length > 5) {\n        this.threadTopics.pop()\n        this.$message.error('토픽은 최대 5개까지 추가 가능합니다.')\n      }\n    },\n    editTitle() {\n      const user = this.$route.params.user\n      const read = this.$route.params.read\n      this.$axios\n        .patch(`api/thread/${user}/${read}`, { title: this.threadTitle })\n        .then((r) => {\n          this.thread.title = r.data.title\n          this.titleEdit = false\n        })\n        .catch((e) => {\n          this.$message.error('네트워크 오류')\n          this.titleEdit = false\n        })\n    },\n    editTopics() {\n      const user = this.$route.params.user\n      const read = this.$route.params.read\n      this.$axios\n        .patch(`api/thread/${user}/${read}`, { topics: this.threadTopics })\n        .then((r) => {\n          this.thread.topics = r.data.topics\n          this.tagsEdit = false\n        })\n        .catch((e) => {\n          this.$message.error('네트워크 오류')\n          this.tagsEdit = false\n        })\n    },\n  },\n}\n","import mod from \"-!../../../node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./_read.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./_read.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_read.vue?vue&type=template&id=241fade0&scoped=true&\"\nimport script from \"./_read.vue?vue&type=script&lang=js&\"\nexport * from \"./_read.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./_read.vue?vue&type=style&index=0&id=241fade0&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"241fade0\",\n  \"1ae0bb41\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../../node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_read.vue?vue&type=style&index=0&id=241fade0&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"798c5c62\", content, true, context)\n};","export * from \"-!../../../node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!../../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../../node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_read.vue?vue&type=style&index=0&id=241fade0&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".open-badge[data-v-241fade0]{border-radius:9999px;border-width:1px;font-size:.875rem;line-height:1.25rem;margin-right:.5rem;padding:.125rem .75rem}.open-badge.close[data-v-241fade0]{border-color:rgba(239,68,68,var(--tw-border-opacity));color:rgba(239,68,68,var(--tw-text-opacity))}.open-badge.close[data-v-241fade0],.open-badge.open[data-v-241fade0]{--tw-border-opacity:1;--tw-text-opacity:1}.open-badge.open[data-v-241fade0]{border-color:rgba(6,182,212,var(--tw-border-opacity));color:rgba(6,182,212,var(--tw-text-opacity))}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AARA;AASA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AA1CA;AAzBA;;ACpKA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}