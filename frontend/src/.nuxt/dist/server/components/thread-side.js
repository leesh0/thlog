exports.ids = [31,1,2];
exports.modules = {

/***/ 158:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./components/thread/Side/index.vue?vue&type=template&id=325221d8&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode("<div class=\"\n      flex\n      items-center\n      text-gray-500\n      p-3\n      mb-5\n      justify-evenly\n      rounded-full\n    \">","</div>",[_vm._ssrNode("<div class=\"flex items-center cursor-pointer\">","</div>",[_vm._ssrNode("<div class=\"flex items-center mr-1 text-cyan-500 text-2xl\">","</div>",[_c('a-icon',{attrs:{"type":"like","theme":_vm.thread.liked ? 'filled' : 'outlined'}})],1),_vm._ssrNode(_vm._ssrEscape("\n      "+_vm._s(_vm.thread.likes)+"\n    "))],2),_vm._ssrNode(" "),_c('a-divider',{attrs:{"type":"vertical"}}),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"flex items-center\">","</div>",[_vm._ssrNode("<div class=\"flex items-center mr-1 text-gray-500 text-2xl\">","</div>",[_c('a-icon',{attrs:{"type":"share-alt"}})],1),_vm._ssrNode("\n      Share\n    ")],2)],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"bg-gray-50 bg-opacity-60 border border-gray-100 rounded-md p-5\">","</div>",[(!_vm.thread.is_owner)?_vm._ssrNode("<div>","</div>",[_vm._ssrNode("<div class=\"flex items-center justify-between\">","</div>",[_vm._ssrNode("<div class=\"inline-flex items-center\">","</div>",[_c('Avatar',{staticClass:"mr-2",attrs:{"src":_vm.thread.owner.avatar}}),_vm._ssrNode(" <div class=\"text-base font-medium\">"+_vm._ssrEscape(_vm._s(_vm.thread.owner.nickname))+"</div>")],2),_vm._ssrNode(" "),_c('a-button',{attrs:{"type":"dashed"}},[_vm._v(" 팔로우 ")])],2),_vm._ssrNode(" <div class=\"py-3\">"+_vm._ssrEscape("\n        "+_vm._s(_vm.thread.owner.introduce)+"\n      ")+"</div> "),_vm._ssrNode("<div class=\"flex items-center justify-end\">","</div>",[_vm._ssrNode("<div class=\"flex items-center gap-x-1\">","</div>",[_vm._ssrNode("<div class=\"flex items-center mr-1 text-lg p-2 rounded-full\">","</div>",[_c('a-icon',{attrs:{"type":"github"}})],1),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"flex items-center mr-1 text-lg p-2 rounded-full\">","</div>",[_c('a-icon',{attrs:{"type":"link"}})],1)],2)])],2):_vm._ssrNode("<div>","</div>",[_c('a-button',{staticClass:"w-full",attrs:{"type":"dashed"},on:{"click":_vm.close}},[_c('div',{staticClass:"flex items-center justify-center"},[_c('span',{staticClass:"flex items-center mr-2",class:_vm.thread.closed ? 'text-green-500' : 'text-red-500'},[_c('a-icon',{attrs:{"type":"check-circle"}})],1),_vm._v("\n          "+_vm._s(_vm.thread.closed ? 'Open' : 'Close')+"\n        ")])]),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"mt-5 flex items-center gap-x-2\">","</div>",[_c('a-switch',{attrs:{"id":"lock","default-checked":""},on:{"change":_vm.publicSetting},model:{value:(_vm.thread.public),callback:function ($$v) {_vm.$set(_vm.thread, "public", $$v)},expression:"thread.public"}}),_vm._ssrNode(" <label>본인이외의 글쓰기를 허용</label>")],2)],2)]),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"mt-5\">","</div>",[_vm._ssrNode("<div class=\"text-base font-medium flex items-center\">","</div>",[_c('a-icon',{staticClass:"mr-2",attrs:{"type":"team"}}),_vm._ssrNode("Users\n      <span class=\"text-gray-500 font-normal\">"+_vm._ssrEscape(_vm._s(_vm.users.length))+"</span>")],2),_vm._ssrNode(" "),_c('Avatars',{staticClass:"py-2",attrs:{"users":_vm.users}})],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"mt-5 -sm:hidden\">","</div>",[_vm._ssrNode("<div class=\"text-base font-medium flex items-center\">","</div>",[_c('a-icon',{staticClass:"mr-2",attrs:{"type":"link"}}),_vm._ssrNode("Anchor\n    ")],2),_vm._ssrNode(" "),_c('a-anchor',{staticClass:"py-2"},_vm._l((_vm.ancs),function(anc){return _c('a-anchor-link',{key:anc.id,attrs:{"href":("#" + (anc.id)),"title":anc.title}})}),1)],2)],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/thread/Side/index.vue?vue&type=template&id=325221d8&

// CONCATENATED MODULE: ./node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./components/thread/Side/index.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var Sidevue_type_script_lang_js_ = ({
  props: ['thread'],

  mounted() {
    console.log(this.thread.comments);
  },

  computed: {
    users() {
      let comments = this.thread.comments;
      let users = {};

      for (let com of comments) {
        users[com.user.username] = com.user;
      }

      return Object.values(users);
    },

    ancs() {
      let comments = this.thread.comments;
      let anchors = [];
      const env = {};

      for (let com of comments) {
        let keyl = com.text.trim().split('\n')[0];
        this.$md.render(keyl);
        let title = this.$md.plainText.trim();

        if (title.length == '') {
          title = com.id;
        }

        anchors.push({
          title,
          id: com.id
        });
      }

      return anchors;
    }

  },
  methods: {
    publicSetting() {
      const user = this.$route.params.user;
      const read = this.$route.params.read;
      this.$axios.patch(`api/thread/${user}/${read}`, {
        public: this.thread.public
      }).then(r => {
        this.thread.public = r.data.public;
      }).catch(e => {
        this.thread.public = !this.thread.public;
      });
    },

    close() {
      const user = this.$route.params.user;
      const read = this.$route.params.read;
      this.$axios.patch(`api/thread/${user}/${read}`, {
        closed: !this.thread.closed
      }).then(r => {
        this.thread.closed = r.data.closed;
        this.$emit('close', r.data.closed);
      }).catch(e => {// this.thread.closed = !this.thread.closed
      });
    },

    likeThread() {
      if (!this.$auth.loggedIn) {
        this.$nuxt.$emit('login');
        return;
      }

      const user = this.$route.params.user;
      const read = this.$route.params.read;
      this.$axios.post(`api/thread/${user}/${read}/like`).then(r => {
        if (r.status == 201) {
          this.thread.liked = true;
        } else {
          this.thread.liked = false;
        }

        this.thread.likes = r.data.like;
      }).catch(e => {// this.thread.closed = !this.thread.closed
      });
    }

  }
});
// CONCATENATED MODULE: ./components/thread/Side/index.vue?vue&type=script&lang=js&
 /* harmony default export */ var thread_Sidevue_type_script_lang_js_ = (Sidevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./components/thread/Side/index.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  thread_Sidevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "14ce3e72"
  
)

/* harmony default export */ var Side = __webpack_exports__["default"] = (component.exports);

/* nuxt-component-imports */
installComponents(component, {Avatar: __webpack_require__(47).default,Avatars: __webpack_require__(73).default})


/***/ }),

/***/ 47:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./components/Avatar.vue?vue&type=template&id=a431934c&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"rounded-full cursor-pointer select-none"},[_vm._ssrNode("<img"+(_vm._ssrAttr("src",_vm.src))+" class=\"w-10 h-10 rounded-full border border-gray-200\">")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/Avatar.vue?vue&type=template&id=a431934c&

// CONCATENATED MODULE: ./node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./components/Avatar.vue?vue&type=script&lang=js&
//
//
//
//
//
//
/* harmony default export */ var Avatarvue_type_script_lang_js_ = ({
  props: ['src']
});
// CONCATENATED MODULE: ./components/Avatar.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_Avatarvue_type_script_lang_js_ = (Avatarvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./components/Avatar.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_Avatarvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "2a5adb41"
  
)

/* harmony default export */ var Avatar = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 73:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./components/Avatars.vue?vue&type=template&id=0b4ecee2&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"flex -space-x-1 overflow-hidden"},[_vm._ssrNode((_vm._ssrList((_vm.users),function(user){return ("<img"+(_vm._ssrAttr("src",user.avatar))+" alt class=\"inline-block h-6 w-6 rounded-full ring-2 ring-white cursor-pointer\">")})))])}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/Avatars.vue?vue&type=template&id=0b4ecee2&

// CONCATENATED MODULE: ./node_modules/windicss-webpack-plugin/dist/loaders/pitcher.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/windicss-webpack-plugin/dist/loaders/transform-template.js!./components/Avatars.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var Avatarsvue_type_script_lang_js_ = ({
  props: ['users']
});
// CONCATENATED MODULE: ./components/Avatars.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_Avatarsvue_type_script_lang_js_ = (Avatarsvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./components/Avatars.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_Avatarsvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "24ac2e02"
  
)

/* harmony default export */ var Avatars = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=thread-side.js.map